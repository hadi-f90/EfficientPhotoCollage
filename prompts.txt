Prompts given to Grok.

I want you be my python coder.
Using flet library, write a python app that inputs several photo files and put them along each other in A4  or smaller paper series. I want to do this to print  as many quality photos as possible for my album in an A4 paper. I don't mind the size of output as long as it keeps the ratio of A paper series as output. If you need more my explanations do ask me.


======================================
I want it keep efficiency kinda like similar apps used to cut woods, glasses using cnc milling machines. I don't mind the orientation of photo changed, BUT RATHER DO AVOID CROPING IMAGES. since the paper is going to be cut by border of photos.


==================
The app you created in fine. but I think  I found a library https://github.com/secnot/rectpack for rectangle packing. Can you write another version that uses this library.


====================

Can you change the program so that it would not resize the original photos before putting in final canvas. the only important things is that it keeps the proportion of final canvas in A paper series ones. no matter how big the final canvas would get.

====================
can you change it so that the photos would get as much area of canvas as possible. I want pictures almost fill all the canvas area.

================
Good, now add some features:
In addition to giving out the message about the generated packed collage of photos. I want the app give the user information about the percentage of unused area of canvas.

===========

Also, I want the app show the list of photos along with their final result look.
Well I wanted the list of photos preview rather than their names and to be scrollable.

============

Can you make photo previews be shown in a scrollable grid. current state make other controls e.g. generate button go out of viewable window and screen area.

=============

Great, now I want make the list editable. the list be  for each photo item in preview pan add a checkbox.
under the preview pan add a trash icon which deletes the photo from list of photos. next to the trash button Add a button (with a plus icon or a photo with a plus icon if flet supports to add more photos to preview list

==============
Currently the app doesn't account for already added photos and duplicates them. can you resolve this issue

=====================

Can you make photo previews be shown in a scrollable grid. current state make other controls e.g. generate button go out of viewable window and screen area.

=================

finally I want this collage be printable can you add a print button along with an option for output in cmyk mode -which would change color profile of photos into cmyk rather than rgb

===========
flet warns me the It doen't use icons and colors anymore. Rather following PEP convetions it uses Icons and Colors instead. please fix this issue.

===========

There is an error saving png in cmyk mode.

=============
Can you make the final canvas preview bigger, almost as big as the upload area. Also, I think the upload photo button is not needed anymore the plus button below photo preview area is enough, I think.

===========
Now, I want the proportion of photos in final canvas be editable.
for this, next to add & delete button add 2 magnifier one with + and the other with minus.
when the user presses them proportion of these photos in final canvas changes by the specified percentage. also show the percentage of change in size of photo on or under the photo itself
use green color for increase and red for decrease in photo size.

-------
Well,  It seems there are some bugs in it.  when some photos are selected the percent below other none selected ones change, too- while the mustn't. also, the generate button doesn't work anymore.

-----------

previous problem get resolved but I still get this error pressing generate button:
p17.py", line 281, in generate_layout
    canvas = Image.new(mode, (canvas_width, canvas_height), (255, 255, 255) if mode == "RGB" else (0, 0, 0, 0))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
python3.12/site-packages/PIL/Image.py", line 3117, in new
    return im._new(core.fill(mode, size, color))

TypeError: 'float' object cannot be interpreted as an integer


==========
Great, can you make the app responsive so that it could be run on any device.

==========

Also, change the file naming policy of the app to avoind overwriting on previously generated photos.

---------
please make the whole window scrollable since some of the controls e.g. generate button go beyond viewable window area when resizing

==========

The print button doesn't work trigger printing dialogue window. either fix it or remove it.

----------
The app doesn't show the amount of paper not covered by photos anymore did you omited it?
-----
main.py", line 72, in main
    file_picker = ft.FilePicker(on_result=handle_upload)
                                          ^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'handle_upload' where it is not associated with a valu
Also, I want the app show the percentage of area covered by each photo on each photo
---
Good, but the percentage is seemingly shown beneath each photo, can you make it over or below each photo and above check mark?